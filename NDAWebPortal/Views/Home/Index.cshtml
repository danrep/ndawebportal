<html lang="en">
<head>
<script src="~/Assets/js/jquery.min.js"></script>

<meta charset="utf-8">
<title>NDA Web Portal</title>
<meta name="description" content="Nigerian Defence Academy">
<meta name="author" content="Codesistance">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<link rel="shortcut icon" href="/assets/img/nda-logo.png" type="image/x-icon">

<style>
    @@import url(http://fonts.googleapis.com/css?family=Roboto:100);
    @@import url(http://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.css);

    body {
        background: url(http://jsrun.it/assets/p/r/8/X/pr8Xi.png); /*bg  1a1a1a  434240  */
        color: white;
        font-family: 'Roboto';
    }

    p {
        color: ;
    }

    input:focus {
        background-color: yellow;
    }

    .flat-form {
        background: #34495e; /*tablebg e74c3c #34495e  #88565b ed7271*/
        margin: 25px auto;
        width: 390px;
        height: auto;
        position: relative;
        font-family: 'Roboto';
        padding: 10px;
    }

    .tabs {
        background: #ed7271; /*topbar #c0392b #88565b*/
        height: 40px;
        margin: 0;
        padding: 0;
        list-style-type: none;
        width: 100%;
        position: relative;
        display: block;
        margin-bottom: 20px;
    }

    .tabs li {
        display: block;
        float: left;
        margin: 0;
        padding: 0;
    }

    .tabs a {
        background: #ed7271; /*topbar c0392b  #88565b */
        display: block;
        float: left;
        text-decoration: none;
        color: white;
        font-size: 16px;
        padding: 12px 22px 12px 22px;
        /*border-right: 1px solid @@tab-border;*/
    }

    .tabs li:last-child a {
        border-right: none;
        width: 174px;
        padding-left: 0;
        padding-right: 0;
        text-align: center;
    }

    .tabs a.active {
        background: #ed7271; /*topbar e74c3c  */
        border-right: none;
        -webkit-transition: all 0.5s linear;
        -moz-transition: all 0.5s linear;
        transition: all 0.5s linear;
    }

    .form-action {
        padding: 0 20px;
        position: relative;
    }

    .form-action h1 {
        font-size: 42px;
        padding-bottom: 10px;
    }

    .form-action p {
        font-size: 12px;
        padding-bottom: 10px;
        line-height: 25px;
    }

    form {
        padding-right: 20px !important;
    }

    form input[type=text],
    form input[type=password],
    form input[type=email],
    form input[type=number],
    form input[type=submit] {
        font-family: 'Roboto';
    }

    form input[type=text],
    form input[type=password],
    form input[type=email],
    form input[type=number] {
        width: 100%;
        height: 40px;
        margin-bottom: 10px;
        padding-left: 15px;
        background: #fff; /* #44454a  */
        border: none;
        color: #003366; /* e74c3c e9e9e9  */
        outline: none;
        font-weight: bold;
    }

    .dark-box {
        background: #5e0400;
        box-shadow: 1px 3px 3px #3d0100 inset;
        height: 40px;
        width: 50px;
    }

    .form-action .dark-box.bottom {
        position: absolute;
        right: 0;
        bottom: -24px;
    }

    .tabs + .dark-box.top {
        position: absolute;
        right: 0;
        top: 0px;
    }

    .show {
        display: block;
    }

    .hide {
        display: none;
    }

    .button {
        border: none;
        display: block;
        background: #136899;
        height: 40px;
        width: 80px;
        color: #ffffff;
        text-align: center;
        border-radius: 5px;
        /*box-shadow: 0px 3px 1px #2075aa;*/
        -webkit-transition: all 0.15s linear;
        -moz-transition: all 0.15s linear;
        transition: all 0.15s linear;
    }

    .button:hover {
        background: #1e75aa;
        /*box-shadow: 0 3px 1px #237bb2;*/
    }

    .button:active {
        background: #136899;
        /*box-shadow: 0 3px 1px #0f608c;*/
    }

    ::-webkit-input-placeholder {
        color: #e74c3c;
    }

    :-moz-placeholder {
        /* Firefox 18- */
        color: #e74c3c;
    }

    ::-moz-placeholder {
        /* Firefox 19+ */
        color: #e74c3c;
    }

    :-ms-input-placeholder {
        color: #e74c3c;
    }

    /*#region Notifications*/
    .toast-title {
        font-weight: bold;
    }

    .toast-message {
        -ms-word-wrap: break-word;
        word-wrap: break-word;
    }

    .toast-message a,
    .toast-message label {
        color: #ffffff;
    }

    .toast-message a:hover {
        color: #cccccc;
        text-decoration: none;
    }

    .toast-close-button {
        position: relative;
        right: -0.3em;
        top: -0.5em;
        float: right;
        font-size: 18px;
        font-family: 'FontAwesome';
        font-weight: bold;
        color: #ffffff;
        -webkit-text-shadow: 0 1px 0 #ffffff;
        text-shadow: 0 1px 0 #ffffff;
        zoom: 1;
        filter: alpha(opacity=80);
        -webkit-opacity: 0.8;
        -moz-opacity: 0.8;
        opacity: 0.8;
    }

    .toast-close-button:hover,
    .toast-close-button:focus {
        color: #000000;
        text-decoration: none;
        cursor: pointer;
        zoom: 1;
        filter: alpha(opacity=40);
        -webkit-opacity: 0.4;
        -moz-opacity: 0.4;
        opacity: 0.4;
    }
    /*Additional properties for button version
        iOS requires the button element instead of an anchor tag.
        If you want the anchor version, it requires `href="#"`.*/
    button.toast-close-button {
        padding: 0;
        cursor: pointer;
        background: transparent;
        border: 0;
        -webkit-appearance: none;
    }

    .toast-top-full-width {
        top: 0;
        right: 0;
        width: 100%;
    }

    .toast-bottom-full-width {
        bottom: 0;
        right: 0;
        width: 100%;
    }

    .toast-top-left {
        top: 12px;
        left: 12px;
    }

    .toast-top-right {
        top: 12px;
        right: 12px;
    }

    .toast-bottom-right {
        right: 12px;
        bottom: 12px;
    }

    .toast-bottom-left {
        bottom: 12px;
        left: 12px;
    }

    #toast-container {
        position: fixed;
        z-index: 999999;
        /*overrides*/
    }

    #toast-container > div {
        margin: 0 0 6px;
        padding: 15px 15px 15px 50px;
        width: 300px;
        -webkit-border-radius: 3px;
        -webkit-background-clip: padding-box;
        -moz-border-radius: 3px;
        -moz-background-clip: padding;
        border-radius: 3px;
        background-clip: padding-box;
        background-position: 15px center;
        background-repeat: no-repeat;
        -webkit-box-shadow: 0 0 12px #999999;
        -moz-box-shadow: 0 0 12px #999999;
        box-shadow: 0 0 12px #999999;
        color: #ffffff;
        zoom: 1;
        filter: alpha(opacity=80);
        -webkit-opacity: 0.8;
        -moz-opacity: 0.8;
        opacity: 0.8;
    }

    #toast-container > :hover {
        -webkit-box-shadow: 0 0 12px #000000;
        -moz-box-shadow: 0 0 12px #000000;
        box-shadow: 0 0 12px #000000;
        zoom: 1;
        filter: alpha(opacity=100);
        -webkit-opacity: 1;
        -moz-opacity: 1;
        opacity: 1;
        cursor: pointer;
    }

    #toast-container > .toast {
        background-image: none !important;
    }

    #toast-container > .toast:before {
        position: fixed;
        font-family: FontAwesome;
        font-size: 24px;
        line-height: 18px;
        float: left;
        color: #FFF;
        padding-right: 0.5em;
        margin: auto 0.5em auto -1.5em;
    }

    #toast-container.toast-top-full-width > div,
    #toast-container.toast-bottom-full-width > div {
        width: 96%;
        margin: auto;
    }

    .toast {
        background-color: #030303;
    }

    .toast-white {
        background-color: #ffffff !important;
    }

    .toast-snow {
        background-color: #fbfbfb !important;
    }

    .toast-whitesmoke {
        background-color: #f5f5f5 !important;
    }

    .toast-seashell {
        background-color: #f3f3f3 !important;
    }

    .toast-ivory {
        background-color: #eeeeee !important;
    }

    .toast-platinum {
        background-color: #e5e5e5 !important;
    }

    .toast-lightgray {
        background-color: #d0d0d0 !important;
    }

    .toast-gray {
        background-color: #cccccc !important;
    }

    .toast-darkgray {
        background-color: #999999 !important;
    }

    .toast-silver {
        background-color: #777777 !important;
    }

    .toast-sonic-silver {
        background-color: #737373 !important;
    }

    .toast-storm-cloud {
        background-color: #666666 !important;
    }

    .toast-lightcarbon {
        background-color: #555555 !important;
    }

    .toast-carbon {
        background-color: #444444 !important;
    }

    .toast-slate-gray {
        background-color: #333333 !important;
    }

    .toast-darkcarbon {
        background-color: #262626 !important;
    }

    .toast-blue {
        background-color: #5db2ff !important;
    }

    .toast-info {
        background-color: #57b5e3 !important;
    }

    .toast-sky {
        background-color: #11a9cc !important;
    }

    .toast-primary {
        background-color: #4374e0 !important;
    }

    .toast-blueberry {
        background-color: #6f85bf !important;
    }

    .toast-palegreen {
        background-color: #a0d468 !important;
    }

    .toast-success {
        background-color: #53a93f !important;
    }

    .toast-green {
        background-color: #8cc474 !important;
    }

    .toast-lightyellow {
        background-color: #f6d52e !important;
    }

    .toast-yellow {
        background-color: #ffce55 !important;
    }

    .toast-warning {
        background-color: #f4b400 !important;
    }

    .toast-gold {
        background-color: #f9b256 !important;
    }

    .toast-orange {
        background-color: #fb6e52 !important;
    }

    .toast-lightred {
        background-color: #e46f61 !important;
    }

    .toast-darkorange {
        background-color: #ed4e2a !important;
    }

    .toast-red {
        background-color: #df5138 !important;
    }

    .toast-danger {
        background-color: #d73d32 !important;
    }

    .toast-pink {
        background-color: #e75b8d !important;
    }

    .toast-darkpink {
        background-color: #cc324b !important;
    }

    .toast-magenta {
        background-color: #bc5679 !important;
    }

    .toast-purple {
        background-color: #7e3794 !important;
    }

    .toast-maroon {
        background-color: #981b48 !important;
    }
    /*Responsive Design*/
    @@media all and (max-width: 239px) {
        #toast-container > div {
            padding: 8px 8px 8px 50px;
            width: 11em;
        }

        #toast-container .toast-close-button {
            right: -0.2em;
            top: -0.2em;
        }
    }

    @@media all and (min-width: 240px) and (max-width: 479px) {
        #toast-container > div {
            padding: 8px 8px 8px 50px;
            width: 18em;
        }

        #toast-container .toast-close-button {
            right: -0.2em;
            top: -0.2em;
        }
    }

    @@media all and (min-width: 480px) and (max-width: 767px) {
        #toast-container > div {
            padding: 15px 15px 15px 50px;
            width: 25em;
        }
    }
</style>
</head>
<body>
<img src="../../Assets/img/nda-logo.png" style="width: 150px; margin-left: auto; display: block; margin-right: auto" alt=""/>

<div class="container">
    <div class="flat-form">
        <ul class="tabs">
            <li>
                <a id="logInLink" href="#login" class="active">Login</a>
            </li>
            <li>
                <a href="#register">Register</a>
            </li>
            <li>
                <a href="#reset">Request Password</a>
            </li>
        </ul>

        <div id="login" class="form-action show">
            <h1>Login</h1>
            <p>
                Just to be Sure, you are You
            </p>
            <form action="javascript:logIn();">
                <ul>
                    <li>
                        <input type="text" id="logInUsername" placeholder="Username"/>
                    </li>
                    <li>
                        <input type="password" id="logInPassword" placeholder="Password"/>
                    </li>
                    <li>
                        <input type="submit" value="Login" class="button"/>
                    </li>
                </ul>
            </form>
        </div>

        <div id="register" class="form-action hide">
            <h1>Register</h1>
            <p>
                This wont take long.
            </p>
            <form action="javascript:register();">
                <ul>
                    <li>
                        <input type="email" id="registerUsername" placeholder="Email Address"/>
                    </li>
                    <li>
                        <input type="number" id="registerPhoneNumber" placeholder="Mobile Number"/>
                    </li>
                    <li>
                        <input type="password" id="registerPassword" placeholder="Password *"/>
                    </li>
                    <li>
                        <input type="password" id="registerPassword2" placeholder="Password *"/>
                    </li>
                    <li>
                        <input type="submit" value="Sign Up" class="button"/>
                    </li>
                </ul>
            </form>
        </div>

        <div id="reset" class="form-action hide">
            <h1>Request Password</h1>
            <p>
                We know its not intentional. So we will send you your password to the email account.
            </p>
            <form action="javascript:forgotPassword();">
                <ul>
                    <li>
                        <input type="email" id="recoverUsername" placeholder="Email"/>
                    </li>
                    <li>
                        <input type="submit" value="Send" class="button"/>
                    </li>
                </ul>
            </form>
        </div>
    </div>
</div>

<script class="cssdeck" src="~/Assets/js/jquery.min.js"></script>
<script src="/assets/js/toastr/toastr.js"></script>

<script type="text/javascript">
    function DisableBackButtonAllBrowsers() {
        window.history.forward();
    };

    DisableBackButtonAllBrowsers();
    window.onload = DisableBackButtonAllBrowsers;
    window.onpageshow = function(evts) { if (evts.persisted) DisableBackButtonAllBrowsers(); };
    window.onunload = function() { void (0) };
</script>

<script type="text/javascript">
    $(function() {
        var showClass = 'show',
            hideClass = 'hide',
            activeClass = 'active';

        $('.tabs').on('click', 'li a', function(e) {
            e.preventDefault();
            var $tab = $(this),
                href = $tab.attr('href');

            $('.active').removeClass(activeClass);
            $tab.addClass(activeClass);

            $('.show')
                .removeClass(showClass)
                .addClass(hideClass)
                .hide();

            $(href)
                .removeClass(hideClass)
                .addClass(showClass)
                .hide()
                .fadeIn(550);
        });
    });

    function Notify(message, position, timeout, theme, icon, closable) {
        toastr.options.positionClass = 'toast-' + position;
        toastr.options.extendedTimeOut = 0; //1000;
        toastr.options.timeOut = timeout;
        toastr.options.closeButton = closable;
        toastr.options.iconClass = icon + ' toast-' + theme;
        toastr['custom'](message);
    };

    function logIn() {
        if ($('#logInUsername').val() === "") {
            Notify('Please Enter a Valid Username!', 'top-right', '3500', 'warning', 'fa-bolt', true);
            $('#logInUsername').focus();
            return;
        }
        if ($('#logInPassword').val() === "") {
            Notify('Please Enter your Password!', 'top-right', '3500', 'warning', 'fa-bolt', true);
            $('#logInPassword').focus();
            return;
        }

        $.ajax({
                type: "GET",
                url: "@Url.Action("LogIn", "Home")?username=" + $('#logInUsername').val() + "&password=" + $('#logInPassword').val(),
                async: true
            })
            .success(function(data) {
                if (data.Status === true) {
                    Notify('Authentication Successful!', 'top-right', '3500', 'success', 'fa-bolt', true);
                    window.location = "@Url.Action("Index", "WebPortal", new {area = ""})";
                } else {
                    Notify(data.Message, 'top-right', '3500', 'warning', 'fa-bolt', true);
                }
            })
            .error(function(data) {
                errorMessage();
            });
    };

    function register() {
        if ($('#registerUsername').val() === "") {
            Notify('Please Enter a Valid Email Address!', 'top-right', '3500', 'warning', 'fa-bolt', true);
            $('#registerUsername').focus();
            return;
        }
        if ($('#registerPhoneNumber').val() === "") {
            Notify('Please Enter a Valid Phone Number!', 'top-right', '3500', 'warning', 'fa-bolt', true);
            $('#registerPhoneNumber').focus();
            return;
        }
        if ($('#registerPassword').val() === "") {
            Notify('Please Enter a Password!', 'top-right', '3500', 'warning', 'fa-bolt', true);
            $('#registerPassword').focus();
            return;
        }
        if ($('#registerPassword').val().length < 6) {
            Notify('The Password is too Short', 'top-right', '3500', 'warning', 'fa-bolt', true);
            $('#registerPassword').focus();
            return;
        }
        if ($('#registerPassword2').val() === "") {
            Notify('Please Enter the same Password!', 'top-right', '3500', 'warning', 'fa-bolt', true);
            $('#registerPassword2').focus();
            return;
        }
        if ($('#registerPassword2').val() !== $('#registerPassword').val()) {
            Notify('The Passwords do not Match!', 'top-right', '3500', 'warning', 'fa-bolt', true);
            $('#registerPassword2').focus();
            return;
        }

        $.ajax({
                type: "GET",
                url: "@Url.Action("Registration", "Home")?username=" + $('#registerUsername').val() +
                    "&password=" + $('#registerPassword').val() +
                    "&phoneNumber=" + $('#registerPhoneNumber').val(),
                async: true
            })
            .success(function(data) {
                if (data.Status === true) {
                    Notify('Registration Successful!', 'top-right', '3500', 'success', 'fa-bolt', true);
                    $('#logInLink').click();
                    $('#logInUsername').val($('#registerUsername').val());

                    $('#registerUsername').val('');
                    $('#registerPhoneNumber').val('');
                    $('#registerPassword').val('');
                    $('#registerPassword2').val('');
                } else {
                    Notify(data.Message, 'top-right', '3500', 'warning', 'fa-bolt', true);
                }
            })
            .error(function(data) {
                errorMessage();
            });
    };

    function forgotPassword() {
        if ($('#recoverUsername').val() === "") {
            Notify('Please Enter a Valid Email Address!', 'top-right', '3500', 'warning', 'fa-bolt', true);
            $('#recoverUsername').focus();
            return;
        }

        $.ajax({
                type: "GET",
                url: "@Url.Action("RecoverPassword", "Home")?username=" + $('#recoverUsername').val(),
                async: true
            })
            .success(function(data) {
                if (data.Status === true) {
                    Notify('Password Retrieval Successful!', 'top-right', '3500', 'success', 'fa-bolt', true);
                    $('#logInLink').click();
                    $('#logInUsername').val($('#recoverUsername').val());

                    $('#recoverUsername').val('');
                } else {
                    Notify(data.Message, 'top-right', '3500', 'warning', 'fa-bolt', true);
                }
            })
            .error(function(data) {
                errorMessage();
            });
    };

    function errorMessage() {
        Notify("An Error just Occured. We will get back to you Shortly", 'top-right', '3500', 'warning', 'fa-bolt', true);
    };
</script>
</body>
</html>